name: Metrics
on:
  schedule: [{cron: "0 0 * * *"}]
  workflow_dispatch:
  push: {branches: ["master", "main"]}
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # ❗️ 아래 옵션들만 남기고 모두 수정/교체하세요.
          token: ${{ secrets.METRICS_TOKEN }}
          filename: github-metrics.svg

          # ✅ 기본 통계(base)를 비워서 언어 통계만 나오게 합니다.
          base: ""

          # ✅ 언어 플러그인 설정
          plugin_languages: yes
          plugin_languages_ignored: html, css, makefile  # 숨길 언어 목록
          plugin_languages_limit: 8                       # 최대 8개 언어 표시
          plugin_languages_threshold: 0%                  # 0% 미만은 숨김
          plugin_languages_sections: most-used            # 가장 많이 사용한 언어
          plugin_languages_layout: compact                # 컴팩트 레이아웃
